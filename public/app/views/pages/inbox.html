<div class="nav-view" ui-view="nav"></div>
<div class="main inbox">
  <navbar-toggle></navbar-toggle>

  <h2>Swap requests for you</h2>
  <div class="swap-container">
      <!--ng repeat -->
      <p ng-if="inbox.noRequests">&nbsp;&nbsp;{{inbox.noRequestMessage}}<p>
      <div class="swap" ng-repeat="request in inbox.bookRequestsForUser">

        <div class="swap-content-container">

          <div class="swap-content-bar">From: <strong>{{request.from  | limitTo: 20}}</strong></div>
            <ul class="swap-content">
                 <li>Book: {{request.requestedBook  | limitTo: 20}}{{request.requestedBook.length > 20 ? '...' : ''}}</li>
                 <li><i style="padding-left: 35px" class="fa fa-exchange"></i></li>
                 <li>{{request.swapFor  | limitTo: 20}}{{request.swapFor.length > 20 ? '...' : ''}}</li>
                 <li ng-hide="!request.approved"><i class="fa fa-check"></i>Approved</li>
            </ul>
            <button ng-show="!request.approved" ng-click="inbox.approve($index)" class="swap-content-approve">Approve?</button>
            <span ng-click="inbox.deleteRequestForUser($index)" class="swap-content-close fa fa-close"></span>
         </div>

      </div>

  </div>

  <h2>Your outstanding swap requests</h2>
  <div class="swap-container">
      <!--ng repeat -->
      <p ng-if="inbox.noRequests">&nbsp;&nbsp;{{inbox.noRequestMessage}}<p>
      <div class="swap" ng-repeat="request in inbox.outstandingBookRequests">

        <div class="swap-content-container">

          <div class="swap-content-bar">To: <strong>{{request.to}}</strong></div>
            <ul class="swap-content">
              <li>Book: {{request.requestedBook | limitTo: 20}}{{request.requestedBook.length > 20 ? '...' : ''}}</li>
              <li><i style="padding-left: 35px" class="fa fa-exchange"></i></li>
              <li>Swap For: {{request.swapFor | limitTo: 12}}{{request.swapFor.length > 20 ? '...' : ''}}</li>
              <li ng-show="!request.approved">Status: Pending ...</li>
              <li ng-hide="!request.approved">Approved!</li>
            </ul>

            <span ng-click="inbox.deleteOutstandingRequest($index)" class="swap-content-close fa fa-close"></span>
        </div>

      </div>
  </div>

</div><!--end main -->
